generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model PERSON {
  document  String    @id @db.VarChar(255)
  firstName String    @db.VarChar(255)
  lastName  String    @db.VarChar(255)
  email     String    @unique(map: "email") @db.VarChar(255)
  createdAt DateTime? @default(now()) @db.DateTime(0)
  updatedAt DateTime? @default(now()) @db.DateTime(0)
  USER      USER[]
}

model USER {
  id       String     @id @db.VarChar(255)
  username String     @db.VarChar(255)
  password String     @db.VarChar(255)
  role     USER_role? @default(STUDENT)
  personId String?    @db.VarChar(255)

  PERSON   PERSON?    @relation(fields: [personId], references: [document], onDelete: NoAction, onUpdate: NoAction, map: "USER_ibfk_1")

  @@index([personId], map: "personId")
}

enum USER_role {
  STUDENT
  ADMIN
  EMPLOYEE
}
